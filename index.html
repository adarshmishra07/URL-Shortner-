<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://bootswatch.com/4/cyborg/bootstrap.css">
    <title>Url Shortner</title>
</head>

<body>
    <div class="container">
        <form id="main">
            <div class="form-group">
                <label for="link">Link</label>
                <input type="text" class="form-control" name="url" id="url" placeholder="Enter link">
            </div>
            <div class="form-group">
                <label for="Alais">Alias</label>
                <input type="text" class="form-control" name="id" id='alias' placeholder="Enter Alais">
            </div>
            <input type="submit" name="submit" class="btn btn-submit">

        </form>
    </div>
</body>
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script></html>
<script>
$(document).ready(function(){
   $("#main").submit(function(event){
        event.preventDefault();   
        var url = $('#url').val();
        var id = $('#alias').val();
            
    var data = {
        url,
        id
    };
    const jsonstring = JSON.stringify(data);
    console.log(jsonstring);
       
       
      $.ajax( 'https://i1oqepnvgj.execute-api.us-east-1.amazonaws.com/prod/app',
             {
          type: 'POST',
          data: {data},
           headers: {
                       'Access-Control-Allow-Origin' : '*',
                       'Content-Type': 'application/json'
                     },
          datatype: 'application/json',
          success: function(data, status, xhr) {
                       console.log('status: ' + status + ', data: ' + data);
                   },
           error: function (jqXhr, textStatus, errorMessage) {
                           console.log('Error' + errorMessage);
                   }
               })
        })
   });
            

</script>


